(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[987],{1051:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var a=t(7876),o=t(4232),n=t(7328),i=t.n(n),s=t(8583);function l(){let[e,r]=(0,o.useState)(""),[t,n]=(0,o.useState)([]),[l,d]=(0,o.useState)(!1),[c,m]=(0,o.useState)({documentType:"",legalArea:"",dateRange:"",relevanceThreshold:.7}),[g,u]=(0,o.useState)({}),[p,h]=(0,o.useState)({});(0,o.useEffect)(()=>{fetch("http://localhost:8000/api/legal/hierarchy").then(e=>e.json()).then(e=>{u(e.document_types||{}),h(e.legal_areas||{})}).catch(console.error)},[]);let b=async()=>{if(e.trim()){d(!0);try{let r=await fetch("http://localhost:8000/api/legal/advanced-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,filters:c,max_results:10})}),t=await r.json();n(t.documents||[])}catch(e){console.error("Erro na pesquisa:",e),n([])}finally{d(!1)}}},x=(e,r)=>{m(t=>({...t,[e]:r}))};return(0,a.jsxs)(s.A,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Pesquisa Legal Avan\xe7ada - Muzaia"}),(0,a.jsx)("meta",{name:"description",content:"Ferramenta de pesquisa avan\xe7ada em documentos legais mo\xe7ambicanos"})]}),(0,a.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[(0,a.jsx)("header",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",padding:"1rem 2rem"},children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1400px",margin:"0 auto"},children:[(0,a.jsx)("h1",{style:{fontSize:"1.8rem",fontWeight:"700",background:"linear-gradient(135deg, #10b981, #3b82f6)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",margin:0},children:"\uD83D\uDD0D Pesquisa Legal Avan\xe7ada"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,a.jsx)("button",{onClick:()=>window.location.href="/chat",style:{background:"rgba(16, 185, 129, 0.2)",color:"#10b981",border:"1px solid rgba(16, 185, 129, 0.3)",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"\uD83D\uDCAC Chat Legal"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/dashboard",style:{background:"rgba(59, 130, 246, 0.2)",color:"#3b82f6",border:"1px solid rgba(59, 130, 246, 0.3)",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"\uD83C\uDFE0 Dashboard"})]})]})}),(0,a.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"2rem",display:"grid",gridTemplateColumns:"350px 1fr",gap:"2rem"},children:[(0,a.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)",height:"fit-content"},children:[(0,a.jsx)("h3",{style:{color:"white",marginBottom:"1.5rem",fontSize:"1.2rem",fontWeight:"600"},children:"\uD83C\uDFAF Filtros Avan\xe7ados"}),(0,a.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,a.jsx)("label",{style:{color:"#e2e8f0",fontSize:"0.9rem",fontWeight:"500",display:"block",marginBottom:"0.5rem"},children:"\uD83D\uDCCB Tipo de Documento"}),(0,a.jsxs)("select",{value:c.documentType,onChange:e=>x("documentType",e.target.value),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",color:"white",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",padding:"0.75rem",fontSize:"0.9rem"},children:[(0,a.jsx)("option",{value:"",children:"Todos os tipos"}),Object.entries(g).map(e=>{let[r,t]=e;return(0,a.jsx)("option",{value:r,style:{background:"#1e293b"},children:t},r)})]})]}),(0,a.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,a.jsx)("label",{style:{color:"#e2e8f0",fontSize:"0.9rem",fontWeight:"500",display:"block",marginBottom:"0.5rem"},children:"⚖️ \xc1rea Legal"}),(0,a.jsxs)("select",{value:c.legalArea,onChange:e=>x("legalArea",e.target.value),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",color:"white",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",padding:"0.75rem",fontSize:"0.9rem"},children:[(0,a.jsx)("option",{value:"",children:"Todas as \xe1reas"}),Object.entries(p).map(e=>{let[r,t]=e;return(0,a.jsx)("option",{value:r,style:{background:"#1e293b"},children:t},r)})]})]}),(0,a.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,a.jsxs)("label",{style:{color:"#e2e8f0",fontSize:"0.9rem",fontWeight:"500",display:"block",marginBottom:"0.5rem"},children:["\uD83C\uDFAF Relev\xe2ncia M\xednima: ",Math.round(100*c.relevanceThreshold),"%"]}),(0,a.jsx)("input",{type:"range",min:"0.3",max:"1.0",step:"0.1",value:c.relevanceThreshold,onChange:e=>x("relevanceThreshold",parseFloat(e.target.value)),style:{width:"100%",accentColor:"#10b981"}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)",marginBottom:"2rem"},children:(0,a.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&b(),placeholder:"Pesquisar documentos legais... (ex: direitos do trabalhador, propriedade intelectual)",style:{flex:1,background:"rgba(255, 255, 255, 0.1)",color:"white",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",padding:"1rem",fontSize:"1rem"}}),(0,a.jsx)("button",{onClick:b,disabled:l||!e.trim(),style:{background:l?"rgba(107, 114, 128, 0.5)":"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"12px",padding:"1rem 2rem",fontSize:"1rem",fontWeight:"600",cursor:l?"not-allowed":"pointer",minWidth:"120px"},children:l?"\uD83D\uDD04 A pesquisar...":"\uD83D\uDD0D Pesquisar"})]})}),(0,a.jsxs)("div",{children:[t.length>0&&(0,a.jsxs)("div",{style:{marginBottom:"1rem",color:"#e2e8f0",fontSize:"0.9rem"},children:["\uD83D\uDCCA ",t.length," documento(s) encontrado(s)"]}),t.map((e,r)=>(0,a.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)",marginBottom:"1rem",transition:"transform 0.2s ease"},onMouseEnter:e=>e.target.style.transform="translateY(-2px)",onMouseLeave:e=>e.target.style.transform="translateY(0)",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[(0,a.jsx)("h4",{style:{color:"white",fontSize:"1.1rem",fontWeight:"600",margin:0,flex:1},children:e.title}),(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, ".concat(e.relevance_score>.8?"#10b981":e.relevance_score>.6?"#f59e0b":"#ef4444",", ").concat(e.relevance_score>.8?"#059669":e.relevance_score>.6?"#d97706":"#dc2626",")"),color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"600",marginLeft:"1rem"},children:[Math.round(100*e.relevance_score),"% relev\xe2ncia"]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[(0,a.jsxs)("span",{style:{background:"rgba(59, 130, 246, 0.2)",color:"#3b82f6",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.8rem"},children:["\uD83D\uDCCB ",g[e.document_type]||"N/A"]}),(0,a.jsxs)("span",{style:{background:"rgba(16, 185, 129, 0.2)",color:"#10b981",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.8rem"},children:["⚖️ ",p[e.legal_area]||"N/A"]})]}),(0,a.jsx)("p",{style:{color:"#cbd5e1",fontSize:"0.9rem",lineHeight:"1.6",margin:"0 0 1rem 0"},children:e.description||"Descri\xe7\xe3o n\xe3o dispon\xedvel"}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)("div",{style:{color:"#94a3b8",fontSize:"0.8rem"},children:["\uD83D\uDCC5 ",e.date_published?new Date(e.date_published).toLocaleDateString("pt-PT"):"Data n\xe3o dispon\xedvel"]}),(0,a.jsx)("button",{onClick:()=>{window.location.href="/chat?document_id=".concat(e.id)},style:{background:"rgba(16, 185, 129, 0.2)",color:"#10b981",border:"1px solid rgba(16, 185, 129, 0.3)",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem",transition:"all 0.2s ease"},children:"\uD83D\uDCAC Discutir este documento"})]})]},r)),0===t.length&&e&&!l&&(0,a.jsxs)("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",padding:"2rem",textAlign:"center",color:"#fca5a5"},children:[(0,a.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\uD83D\uDD0D"}),(0,a.jsx)("h3",{style:{margin:"0 0 0.5rem 0"},children:"Nenhum documento encontrado"}),(0,a.jsx)("p",{style:{margin:0,fontSize:"0.9rem"},children:"Tente alterar os vossos crit\xe9rios de pesquisa ou filtros."})]})]})]})]})]})]})}},6572:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/legal-research",function(){return t(1051)}])},7328:(e,r,t)=>{e.exports=t(5679)}},e=>{e.O(0,[914,964,636,593,792],()=>e(e.s=6572)),_N_E=e.O()}]);