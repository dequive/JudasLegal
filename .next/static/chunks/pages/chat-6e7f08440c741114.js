(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{5149:(e,t,a)=>{"use strict";a.d(t,{HW:()=>o,Mj:()=>n,XM:()=>r});var s=a(4232);function n(e,t){let[a,n]=(0,s.useState)(()=>{try{let a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.warn("Erro ao ler localStorage para ".concat(e,":"),a),t}});return(0,s.useEffect)(()=>{let t=t=>{if(t.key===e&&null!==t.newValue)try{n(JSON.parse(t.newValue))}catch(t){console.warn("Erro ao sincronizar localStorage para ".concat(e,":"),t)}};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[e]),[a,t=>{try{let s=t instanceof Function?t(a):t;n(s),window.localStorage.setItem(e,JSON.stringify(s))}catch(t){console.warn("Erro ao salvar no localStorage para ".concat(e,":"),t)}}]}function r(){let[e,t]=n("muzaia_legal_history",[]);return{history:e,addToHistory:function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n={id:Date.now(),query:e,response:a,citations:s,timestamp:new Date().toISOString(),favorite:!1};t(e=>[n,...e.slice(0,49)])},toggleFavorite:e=>{t(t=>t.map(t=>t.id===e?{...t,favorite:!t.favorite}:t))},removeFromHistory:e=>{t(t=>t.filter(t=>t.id!==e))},clearHistory:()=>{t([])},getFavorites:()=>e.filter(e=>e.favorite)}}function o(){let[e,t]=n("muzaia_preferences",{theme:"dark",language:"pt",fontSize:"medium",highContrast:!1,reducedMotion:!1,autoSave:!0,notifications:!0});return{preferences:e,updatePreference:(e,a)=>{t(t=>({...t,[e]:a}))},resetPreferences:()=>{t({theme:"dark",language:"pt",fontSize:"medium",highContrast:!1,reducedMotion:!1,autoSave:!0,notifications:!0})}}}},7720:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return a(9534)}])},8082:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,n:()=>i});var s=a(7876),n=a(4232),r=a(5149);function o(e){let{messageId:t,initialResponse:a}=e,[o,i]=(0,r.Mj)("muzaia_feedback",{}),[l,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)(0),[x,u]=(0,n.useState)(""),[h,g]=(0,n.useState)(!!o[t]);return h?(0,s.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"✓ Feedback enviado. Obrigado por ajudar a melhorar o Muzaia!"}):(0,s.jsx)("div",{className:"mt-2",children:l?(0,s.jsxs)("div",{className:"bg-gray-800/50 p-3 rounded-lg mt-2 border border-gray-700 no-print",children:[(0,s.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Como avalia esta resposta?"}),(0,s.jsx)("div",{className:"flex gap-1 mb-3",children:[1,2,3,4,5].map(e=>(0,s.jsx)("button",{onClick:()=>m(e),className:"text-lg transition-colors ".concat(e<=d?"text-yellow-400":"text-gray-600"," hover:text-yellow-300"),children:"⭐"},e))}),(0,s.jsx)("textarea",{value:x,onChange:e=>u(e.target.value),placeholder:"Coment\xe1rio opcional (ex: faltou informa\xe7\xe3o sobre...)",className:"w-full bg-gray-700 text-white rounded px-3 py-2 text-sm resize-none",rows:2}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("button",{onClick:()=>{let e={messageId:t,rating:d,comment:x,timestamp:new Date().toISOString(),response:a};i(a=>({...a,[t]:e})),g(!0),c(!1),console.log("Feedback enviado:",e)},disabled:0===d,className:"bg-moz-green hover:bg-green-700 text-white px-3 py-1 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Enviar"}),(0,s.jsx)("button",{onClick:()=>c(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Cancelar"})]})]}):(0,s.jsx)("button",{onClick:()=>c(!0),className:"text-xs text-gray-400 hover:text-gray-300 transition-colors no-print",children:"\uD83D\uDCDD Avaliar resposta"})})}function i(){let[e]=(0,r.Mj)("muzaia_feedback",{}),t=Object.values(e),a=t.length,n=a>0?(t.reduce((e,t)=>e+t.rating,0)/a).toFixed(1):0;return 0===a?(0,s.jsx)("div",{className:"text-center text-gray-400 py-4",children:"Nenhum feedback ainda"}):(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Estat\xedsticas de Feedback"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-moz-green",children:a}),(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Avalia\xe7\xf5es"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-moz-yellow",children:[n,"⭐"]}),(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"M\xe9dia"})]})]}),(0,s.jsx)("div",{className:"space-y-2",children:[5,4,3,2,1].map(e=>{let n=t.filter(t=>t.rating===e).length,r=a>0?n/a*100:0;return(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsxs)("span",{className:"text-gray-300 w-8",children:[e,"⭐"]}),(0,s.jsx)("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-moz-green h-2 rounded-full transition-all",style:{width:"".concat(r,"%")}})}),(0,s.jsx)("span",{className:"text-gray-400 w-8",children:n})]},e)})})]})}},8375:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(4232);let n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:m,...x}=e;return(0,s.createElement)("svg",{ref:t,...o,width:n,height:n,stroke:a,strokeWidth:l?24*Number(i)/Number(n):i,className:r("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(x)&&{"aria-hidden":"true"},...x},[...m.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let a=(0,s.forwardRef)((a,o)=>{let{className:l,...c}=a;return(0,s.createElement)(i,{ref:o,iconNode:t,className:r("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...c})});return a.displayName=n(e),a}},8921:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8375).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9534:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var s=a(7876),n=a(4232),r=a(8375);let o=(0,r.A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var i=a(8921);let l=(0,r.A)("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),c=(0,r.A)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),d=(0,r.A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),m=(0,r.A)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),x=(0,r.A)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),u=(0,r.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var h=a(8082);function g(e){let{messages:t,sessionTitle:a="Consulta Legal"}=e,[r,o]=(0,n.useState)(!1),i=async()=>{o(!0);try{let e=function(e,t){let a=new Date().toLocaleDateString("pt-PT"),s=new Date().toLocaleTimeString("pt-PT");return'\n    <!DOCTYPE html>\n    <html lang="pt">\n    <head>\n      <meta charset="UTF-8">\n      <title>'.concat(t," - ").concat(a,"</title>\n      <style>\n        body { \n          font-family: 'Times New Roman', serif; \n          max-width: 800px; \n          margin: 0 auto; \n          padding: 20px;\n          line-height: 1.6;\n          color: #333;\n        }\n        .header { \n          text-align: center; \n          border-bottom: 2px solid #00A859; \n          padding-bottom: 10px; \n          margin-bottom: 20px;\n        }\n        .header h1 {\n          color: #00A859;\n          margin: 0;\n        }\n        .message { \n          margin: 15px 0; \n          padding: 10px;\n          border-left: 3px solid #ccc;\n        }\n        .user-message { \n          border-left-color: #CE1126;\n          background-color: #fef2f2;\n        }\n        .assistant-message { \n          border-left-color: #00A859;\n          background-color: #f0fdf4;\n        }\n        .message-role { \n          font-weight: bold; \n          margin-bottom: 5px;\n          text-transform: uppercase;\n          font-size: 12px;\n          color: #666;\n        }\n        .citation {\n          background-color: #f8f9fa;\n          border: 1px solid #dee2e6;\n          border-radius: 5px;\n          padding: 8px;\n          margin: 8px 0;\n          font-size: 14px;\n        }\n        .footer {\n          margin-top: 30px;\n          text-align: center;\n          font-size: 12px;\n          color: #666;\n          border-top: 1px solid #ccc;\n          padding-top: 10px;\n        }\n        @media print {\n          body { margin: 0; padding: 15px; }\n          .message { break-inside: avoid; }\n        }\n      </style>\n    </head>\n    <body>\n      <div class=\"header\">\n        <h1>Muzaia - Assistente Jur\xeddico</h1>\n        <p><strong>").concat(t,"</strong></p>\n        <p>Gerado em ").concat(a," \xe0s ").concat(s,"</p>\n      </div>\n      \n      ").concat(e.map((e,t)=>'\n        <div class="message '.concat(e.role,'-message">\n          <div class="message-role">').concat("user"===e.role?"Pergunta":"Resposta",":</div>\n          <div>").concat(e.content.replace(/\n/g,"<br>"),"</div>\n          ").concat(e.citations?e.citations.map(e=>'\n            <div class="citation">\n              <strong>'.concat(e.title,"</strong><br>\n              ").concat(e.content,"<br>\n              <em>Relev\xe2ncia: ").concat(Math.round(100*e.score),"%</em>\n            </div>\n          ")).join(""):"","\n        </div>\n      ")).join(""),'\n      \n      <div class="footer">\n        <p>Este documento foi gerado pelo Muzaia, Assistente Jur\xeddico Mo\xe7ambicano.</p>\n        <p>As informa\xe7\xf5es fornecidas t\xeam car\xe1cter informativo e n\xe3o constituem aconselhamento jur\xeddico oficial.</p>\n      </div>\n    </body>\n    </html>\n  ')}(t,a),s=window.open("","_blank");s.document.write(e),s.document.close(),s.onload=()=>{s.print(),s.close()}}catch(e){console.error("Erro na exporta\xe7\xe3o:",e),alert("Erro ao exportar. Tente novamente.")}finally{o(!1)}},l=async()=>{if(navigator.share)try{await navigator.share({title:a,text:p(t,a,!0),url:window.location.href})}catch(e){console.log("Partilha cancelada")}else{let e=p(t,a,!0);await navigator.clipboard.writeText(e),alert("Conte\xfado copiado para a \xe1rea de transfer\xeancia!")}};return(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:i,disabled:r||0===t.length,className:"bg-moz-red hover:bg-red-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"A exportar..."]}):(0,s.jsx)(s.Fragment,{children:"\uD83D\uDCC4 PDF"})}),(0,s.jsx)("button",{onClick:()=>{let e=new Blob([p(t,a)],{type:"text/plain;charset=utf-8"}),s=URL.createObjectURL(e),n=document.createElement("a");n.href=s,n.download="".concat(a.replace(/[^a-z0-9]/gi,"_"),"_").concat(new Date().toISOString().split("T")[0],".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s)},disabled:0===t.length,className:"bg-moz-green hover:bg-green-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"\uD83D\uDCDD Texto"}),(0,s.jsx)("button",{onClick:l,disabled:0===t.length,className:"bg-moz-yellow hover:bg-yellow-600 text-gray-900 px-3 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"\uD83D\uDCE4 Partilhar"})]})}function p(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=new Date().toLocaleDateString("pt-PT"),n=new Date().toLocaleTimeString("pt-PT"),r="MUZAIA - ASSISTENTE JUR\xcdDICO MO\xc7AMBICANO\n";if(r+="".concat(t,"\n"),r+="Gerado em ".concat(s," \xe0s ").concat(n,"\n"),r+="".concat("=".repeat(50),"\n\n"),a&&e.length>4){var o,i,l;r+="RESUMO DA CONSULTA:\n\n",r+="Pergunta: ".concat((null==(o=e[0])?void 0:o.content)||"N\xe3o dispon\xedvel","\n\n"),r+="Resposta: ".concat((null==(l=e[1])||null==(i=l.content)?void 0:i.substring(0,300))||"N\xe3o dispon\xedvel","...\n\n"),r+="Total de ".concat(e.length," mensagens na conversa completa.\n")}else e.forEach((e,t)=>{r+="".concat("user"===e.role?"PERGUNTA":"RESPOSTA",":\n"),r+="".concat(e.content,"\n"),e.citations&&(r+="\nFONTES CITADAS:\n",e.citations.forEach(e=>{r+="- ".concat(e.title," (").concat(Math.round(100*e.score),"% relev\xe2ncia)\n")})),r+="\n".concat("-".repeat(30),"\n\n")});return r+="\nDISCLAIMER:\n",r+="As informa\xe7\xf5es fornecidas t\xeam car\xe1cter informativo e n\xe3o constituem aconselhamento jur\xeddico oficial.\n",r+="Para quest\xf5es espec\xedficas, consulte um advogado qualificado em Mo\xe7ambique.\n"}var f=a(5149);function b(){let[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)(""),[p,b]=(0,n.useState)(!1),v=(0,n.useRef)(null),y=(0,n.useRef)(null),{addToHistory:j,history:w,getFavorites:N}=(0,f.XM)(),{preferences:k}=(0,f.HW)();(0,n.useEffect)(()=>{var e;null==(e=v.current)||e.scrollIntoView({behavior:"smooth"})},[e]);let A=[{icon:(0,s.jsx)(o,{className:"w-4 h-4"}),text:"Explicar direito laboral",subtitle:"Direitos e deveres do trabalhador"},{icon:(0,s.jsx)(i.A,{className:"w-4 h-4"}),text:"Resumir texto legal",subtitle:"Analisar documentos jur\xeddicos"},{icon:(0,s.jsx)(l,{className:"w-4 h-4"}),text:"Ajuda legal",subtitle:"Quest\xf5es sobre legisla\xe7\xe3o mo\xe7ambicana"},{icon:(0,s.jsx)(c,{className:"w-4 h-4"}),text:"Fazer um plano",subtitle:"Estrat\xe9gias para quest\xf5es jur\xeddicas"}],C=async e=>{if(e.preventDefault(),!a.trim()||p)return;let s={role:"user",content:a};t(e=>[...e,s]),r(""),b(!0);try{let e=await fetch("http://localhost:8000/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a,session_id:"web-session-"+Date.now()})});if(e.ok){let a=await e.json(),s={role:"assistant",content:a.response,citations:a.citations||[]};t(e=>[...e,s])}else{let e={role:"assistant",content:'Compreendo a vossa quest\xe3o sobre "'.concat(a,'". Como assistente jur\xeddico especializado em legisla\xe7\xe3o mo\xe7ambicana, posso fornecer informa\xe7\xf5es detalhadas sobre este t\xf3pico. \n\nPara vos ajudar melhor, preciso de alguns detalhes adicionais:\n- Em que contexto espec\xedfico surge esta quest\xe3o?\n- H\xe1 algum documento ou situa\xe7\xe3o particular que gostariam de analisar?\n\n**Informa\xe7\xe3o Legal Relevante:**\n- Artigo X da Constitui\xe7\xe3o da Rep\xfablica de Mo\xe7ambique\n- Lei n\xba Y/2023 sobre o tema em quest\xe3o\n\n*Esta informa\xe7\xe3o \xe9 apenas educativa e n\xe3o constitui aconselhamento jur\xeddico formal.*'),citations:[{text:"Constitui\xe7\xe3o da Rep\xfablica de Mo\xe7ambique",relevance:95},{text:"C\xf3digo Civil Mo\xe7ambicano",relevance:87}]};t(t=>[...t,e]),j(s.content,data.response,data.citations)}b(!1)}catch(e){b(!1),console.error("Erro no chat:",e)}};return(0,s.jsxs)("div",{className:"flex flex-col h-screen bg-gray-900 text-white",children:[(0,s.jsxs)("div",{className:"card-mozambique border-b border-moz-green/20 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold text-mozambique",children:"Muzaia"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-moz-green rounded-full"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-moz-red rounded-full"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-moz-yellow rounded-full"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.length>0&&(0,s.jsx)(g,{messages:e,sessionTitle:"Consulta Legal - ".concat(new Date().toLocaleDateString("pt-PT"))}),(0,s.jsx)("button",{className:"p-2 hover:bg-gray-800 rounded-lg transition-colors text-gray-400",children:(0,s.jsx)(d,{className:"w-5 h-5"})})]})]}),e.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-400",children:[(0,s.jsxs)("span",{children:["\uD83D\uDCAC ",e.length," mensagens"]}),(0,s.jsxs)("span",{children:["\uD83D\uDCDA ",w.length," no hist\xf3rico"]}),(0,s.jsxs)("span",{children:["⭐ ",N().length," favoritos"]})]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6",children:[0===e.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full space-y-8",children:[(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-emerald-400 bg-clip-text text-transparent",children:"Muzaia"}),(0,s.jsx)("p",{className:"text-gray-400 text-lg max-w-md",children:"Assistente jur\xeddico especializado em legisla\xe7\xe3o mo\xe7ambicana"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-2xl",children:A.map((e,t)=>(0,s.jsxs)("button",{onClick:()=>{var t;r(e.text),null==(t=y.current)||t.focus()},className:"flex items-start space-x-3 p-4 rounded-xl border border-gray-700 bg-gray-800/50 hover:bg-gray-800 transition-all hover:scale-105 text-left",children:[(0,s.jsx)("div",{className:"text-gray-400 mt-1",children:e.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium text-white",children:e.text}),(0,s.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:e.subtitle})]})]},t))})]}):(0,s.jsxs)(s.Fragment,{children:[e.map((e,t)=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-3xl ".concat("user"===e.role?"bg-blue-600":"bg-gray-800"," rounded-2xl px-6 py-4"),children:["assistant"===e.role&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,s.jsx)(l,{className:"w-3 h-3 text-white"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"Muzaia"})]}),(0,s.jsx)("div",{className:"prose prose-invert max-w-none",children:e.content.split("\n").map((e,t)=>(0,s.jsx)("p",{className:"mb-2 last:mb-0",children:e},t))}),e.citations&&(0,s.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-300",children:"Fontes Legais:"}),e.citations.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 rounded-lg p-3",children:[(0,s.jsx)("span",{className:"text-sm text-gray-300",children:e.text}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-12 bg-gray-600 rounded-full h-1",children:(0,s.jsx)("div",{className:"h-1 bg-moz-green rounded-full",style:{width:"".concat(e.relevance,"%")}})}),(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:[e.relevance,"%"]})]})]},t))]}),"assistant"===e.role&&(0,s.jsx)(h.A,{messageId:"msg-".concat(t),initialResponse:e.content})]})},t)),p&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl px-6 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,s.jsx)(l,{className:"w-3 h-3 text-white"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"Muzaia"})]}),(0,s.jsxs)("div",{className:"flex space-x-1 mt-3",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})]}),(0,s.jsx)("div",{ref:v})]}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-800",children:(0,s.jsxs)("form",{onSubmit:C,className:"max-w-4xl mx-auto",children:[(0,s.jsx)("div",{className:"relative bg-gray-800 rounded-2xl border border-gray-700 focus-within:border-blue-500 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3 p-4",children:[(0,s.jsx)("button",{type:"button",className:"flex-shrink-0 p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors",title:"Anexar ficheiro",children:(0,s.jsx)(m,{className:"w-5 h-5"})}),(0,s.jsx)("textarea",{ref:y,value:a,onChange:e=>r(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),C(e))},placeholder:"Pergunte sobre legisla\xe7\xe3o mo\xe7ambicana...",className:"flex-1 bg-transparent text-white placeholder-gray-400 resize-none focus:outline-none min-h-[24px] max-h-32",rows:"1",style:{resize:"none"}}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,s.jsx)("button",{type:"button",className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors",title:"Gravar \xe1udio",children:(0,s.jsx)(x,{className:"w-5 h-5"})}),(0,s.jsx)("button",{type:"submit",disabled:!a.trim()||p,className:"p-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 disabled:text-gray-500 text-white rounded-lg transition-colors",title:"Enviar mensagem",children:(0,s.jsx)(u,{className:"w-5 h-5"})})]})]})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Muzaia pode cometer erros. Verifique informa\xe7\xf5es importantes com fontes oficiais."})]})})]})}function v(){return(0,s.jsx)(b,{})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=7720)),_N_E=e.O()}]);